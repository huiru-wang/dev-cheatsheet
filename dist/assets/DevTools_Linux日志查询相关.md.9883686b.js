import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.fd95ed2e.js";const C=JSON.parse('{"title":"文件查询","description":"","frontmatter":{},"headers":[],"relativePath":"DevTools/Linux日志查询相关.md","filePath":"DevTools/Linux日志查询相关.md"}'),p={name:"DevTools/Linux日志查询相关.md"},o=l(`<h1 id="文件查询" tabindex="-1">文件查询 <a class="header-anchor" href="#文件查询" aria-label="Permalink to &quot;文件查询&quot;">​</a></h1><h2 id="查询行数" tabindex="-1">查询行数 <a class="header-anchor" href="#查询行数" aria-label="Permalink to &quot;查询行数&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 文件行数</span></span>
<span class="line"><span style="color:#B392F0;">wc</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-l</span><span style="color:#E1E4E8;"> [filename]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 过滤后行数</span></span>
<span class="line"><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> [keyword] [filename] </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">-wc</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 文件行数</span></span>
<span class="line"><span style="color:#6F42C1;">wc</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-l</span><span style="color:#24292E;"> [filename]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 过滤后行数</span></span>
<span class="line"><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> [keyword] [filename] </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">-wc</span></span></code></pre></div><h2 id="显示指定行前后n行" tabindex="-1">显示指定行前后n行 <a class="header-anchor" href="#显示指定行前后n行" aria-label="Permalink to &quot;显示指定行前后n行&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> [keyword] [filename] -A n  </span><span style="color:#6A737D;"># 后n行</span></span>
<span class="line"><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> [keyword] [filename] -B n  </span><span style="color:#6A737D;"># 前n行</span></span>
<span class="line"><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> [keyword] [filename] -C n  </span><span style="color:#6A737D;"># 前后n行</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> [keyword] [filename] -A n  </span><span style="color:#6A737D;"># 后n行</span></span>
<span class="line"><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> [keyword] [filename] -B n  </span><span style="color:#6A737D;"># 前n行</span></span>
<span class="line"><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> [keyword] [filename] -C n  </span><span style="color:#6A737D;"># 前后n行</span></span></code></pre></div><h2 id="查询结果显示行号" tabindex="-1">查询结果显示行号 <a class="header-anchor" href="#查询结果显示行号" aria-label="Permalink to &quot;查询结果显示行号&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> [keyword] [filename] -n</span></span>
<span class="line"><span style="color:#B392F0;">cat</span><span style="color:#E1E4E8;"> [filename] -n</span></span>
<span class="line"><span style="color:#B392F0;">more</span><span style="color:#E1E4E8;"> [filename] </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;data&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-n</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> [keyword] [filename] -n</span></span>
<span class="line"><span style="color:#6F42C1;">cat</span><span style="color:#24292E;"> [filename] -n</span></span>
<span class="line"><span style="color:#6F42C1;">more</span><span style="color:#24292E;"> [filename] </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;data&#39;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-n</span></span></code></pre></div><h2 id="多文件查询" tabindex="-1">多文件查询 <a class="header-anchor" href="#多文件查询" aria-label="Permalink to &quot;多文件查询&quot;">​</a></h2><h3 id="指定多个文件查询" tabindex="-1">指定多个文件查询 <a class="header-anchor" href="#指定多个文件查询" aria-label="Permalink to &quot;指定多个文件查询&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> [keyword] [filename] [filename] [filename] ... -n</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> [keyword] [filename] [filename] [filename] ... -n</span></span></code></pre></div><h3 id="正则匹配多文件" tabindex="-1">正则匹配多文件 <a class="header-anchor" href="#正则匹配多文件" aria-label="Permalink to &quot;正则匹配多文件&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-r</span><span style="color:#E1E4E8;"> [keyword] </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">.log -n</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 目录下所有文件</span></span>
<span class="line"><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-r</span><span style="color:#E1E4E8;"> [keyword] /etc/</span></span>
<span class="line"><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-r</span><span style="color:#E1E4E8;"> [keyword] </span><span style="color:#79B8FF;">.</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-r</span><span style="color:#24292E;"> [keyword] </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">.log -n</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 目录下所有文件</span></span>
<span class="line"><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-r</span><span style="color:#24292E;"> [keyword] /etc/</span></span>
<span class="line"><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-r</span><span style="color:#24292E;"> [keyword] </span><span style="color:#005CC5;">.</span></span></code></pre></div><h2 id="模式匹配" tabindex="-1">模式匹配 <a class="header-anchor" href="#模式匹配" aria-label="Permalink to &quot;模式匹配&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 忽略大小写</span></span>
<span class="line"><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;data&#39;</span><span style="color:#E1E4E8;"> [filename]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 单词完整匹配</span></span>
<span class="line"><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-w</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;data&#39;</span><span style="color:#E1E4E8;"> [filename]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 增强模式匹配 相当于 egrep</span></span>
<span class="line"><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-E</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;data&#39;</span><span style="color:#E1E4E8;"> [filename]</span></span>
<span class="line"><span style="color:#6A737D;"># 或</span></span>
<span class="line"><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-E</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;data&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-E</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;mail&#39;</span><span style="color:#E1E4E8;"> [filename]</span></span>
<span class="line"><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-E</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;data|mail&#39;</span><span style="color:#E1E4E8;"> [filename]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 忽略大小写</span></span>
<span class="line"><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;data&#39;</span><span style="color:#24292E;"> [filename]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 单词完整匹配</span></span>
<span class="line"><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-w</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;data&#39;</span><span style="color:#24292E;"> [filename]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 增强模式匹配 相当于 egrep</span></span>
<span class="line"><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-E</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;data&#39;</span><span style="color:#24292E;"> [filename]</span></span>
<span class="line"><span style="color:#6A737D;"># 或</span></span>
<span class="line"><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-E</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;data&#39;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-E</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;mail&#39;</span><span style="color:#24292E;"> [filename]</span></span>
<span class="line"><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-E</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;data|mail&#39;</span><span style="color:#24292E;"> [filename]</span></span></code></pre></div><h2 id="时间范围查询" tabindex="-1">时间范围查询 <a class="header-anchor" href="#时间范围查询" aria-label="Permalink to &quot;时间范围查询&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 2023-09-18 11:22 到 2023-09-18 11:36 之间的数据</span></span>
<span class="line"><span style="color:#B392F0;">egrep</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;2023-09-18 11:[2-3][2-6]&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">access.log</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 查询2023-09-04 11:46:05之后数据</span></span>
<span class="line"><span style="color:#B392F0;">awk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-F</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;|&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;{if($1 &gt; &quot;2023-09-04 11:46:05&quot;) print $1&quot;|&quot;$5}&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">access.log</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 2023-09-18 11:22 到 2023-09-18 11:36 之间的数据</span></span>
<span class="line"><span style="color:#6F42C1;">egrep</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;2023-09-18 11:[2-3][2-6]&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">access.log</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 查询2023-09-04 11:46:05之后数据</span></span>
<span class="line"><span style="color:#6F42C1;">awk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-F</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;|&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;{if($1 &gt; &quot;2023-09-04 11:46:05&quot;) print $1&quot;|&quot;$5}&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">access.log</span></span></code></pre></div><h2 id="切分提取日志" tabindex="-1">切分提取日志 <a class="header-anchor" href="#切分提取日志" aria-label="Permalink to &quot;切分提取日志&quot;">​</a></h2><h3 id="awk切分" tabindex="-1">awk切分 <a class="header-anchor" href="#awk切分" aria-label="Permalink to &quot;awk切分&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">awk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-F</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;|&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;{print $1&quot;|&quot;$5}&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">access.log</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># ~ 包含</span></span>
<span class="line"><span style="color:#B392F0;">tail</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-f</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">access.log</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">awk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-F</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;|&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;{ if($5 ~ &quot;keyword1&quot; || $5 ~ &quot;keyword&quot;) print $1&quot;|&quot;$5}&#39;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">awk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-F</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;|&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;{print $1&quot;|&quot;$5}&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">access.log</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># ~ 包含</span></span>
<span class="line"><span style="color:#6F42C1;">tail</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-f</span><span style="color:#24292E;"> </span><span style="color:#032F62;">access.log</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">awk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-F</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;|&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;{ if($5 ~ &quot;keyword1&quot; || $5 ~ &quot;keyword&quot;) print $1&quot;|&quot;$5}&#39;</span></span></code></pre></div><h3 id="grep切分" tabindex="-1">grep切分 <a class="header-anchor" href="#grep切分" aria-label="Permalink to &quot;grep切分&quot;">​</a></h3><ul><li><code>-o</code>：仅打印匹配数据</li></ul><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">egrep</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-o</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;&quot;text&quot;:&quot;[^&quot;]+&quot;&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">t.log</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">egrep</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-o</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;&quot;text&quot;:&quot;[^&quot;]+&quot;&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">t.log</span></span></code></pre></div><h2 id="查询结果排序" tabindex="-1">查询结果排序 <a class="header-anchor" href="#查询结果排序" aria-label="Permalink to &quot;查询结果排序&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 默认字典序升序，使用 -n 表示使用数字排序</span></span>
<span class="line"><span style="color:#B392F0;">cat</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">access.log</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">sort</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-n</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 降序</span></span>
<span class="line"><span style="color:#B392F0;">cat</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">access.log</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">sort</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-r</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 分割后指定列排序，默认空格分隔，-k指定列数</span></span>
<span class="line"><span style="color:#B392F0;">cat</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">access.log</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">sort</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-k</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5</span></span>
<span class="line"><span style="color:#B392F0;">cat</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">access.log</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">sort</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;|&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-k</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># -o：结果输出到文件</span></span>
<span class="line"><span style="color:#B392F0;">cat</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">access.log</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">sort</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-o</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">temp.log</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 默认字典序升序，使用 -n 表示使用数字排序</span></span>
<span class="line"><span style="color:#6F42C1;">cat</span><span style="color:#24292E;"> </span><span style="color:#032F62;">access.log</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">sort</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-n</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 降序</span></span>
<span class="line"><span style="color:#6F42C1;">cat</span><span style="color:#24292E;"> </span><span style="color:#032F62;">access.log</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">sort</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-r</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 分割后指定列排序，默认空格分隔，-k指定列数</span></span>
<span class="line"><span style="color:#6F42C1;">cat</span><span style="color:#24292E;"> </span><span style="color:#032F62;">access.log</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">sort</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-k</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">5</span></span>
<span class="line"><span style="color:#6F42C1;">cat</span><span style="color:#24292E;"> </span><span style="color:#032F62;">access.log</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">sort</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;|&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-k</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># -o：结果输出到文件</span></span>
<span class="line"><span style="color:#6F42C1;">cat</span><span style="color:#24292E;"> </span><span style="color:#032F62;">access.log</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">sort</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-o</span><span style="color:#24292E;"> </span><span style="color:#032F62;">temp.log</span></span></code></pre></div><p>如： 提取字符串，并按字符串长度排序</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">2023-09-18</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">11</span><span style="color:#9ECBFF;">:32:13</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">INFO</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">com.example.test.method</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">{&quot;text&quot;:&quot;33131&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2023-09-18</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">11</span><span style="color:#9ECBFF;">:32:34</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">INFO</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">com.example.test.method</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">{&quot;text&quot;:&quot;master load&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">2023-09-18</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">11</span><span style="color:#9ECBFF;">:32:53</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">INFO</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">com.example.test.method</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">{&quot;text&quot;:&quot;lighers&quot;}</span></span>
<span class="line"><span style="color:#B392F0;">------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#6A737D;"># 提取text为key的value，并按照value的长度排序打印</span></span>
<span class="line"><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-o</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;&quot;text&quot;:&quot;[^&quot;]*&quot;&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">t.log</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">awk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-F</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;:&quot;&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;{print $2}&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">awk</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-F</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;&quot;&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;{print $1}&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">awk</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;{print length,</span></span>
<span class="line"><span style="color:#9ECBFF;"> $0}&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">sort</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-n</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-k</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#B392F0;">5</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">33131</span></span>
<span class="line"><span style="color:#B392F0;">7</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">lighers</span></span>
<span class="line"><span style="color:#B392F0;">11</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">master</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">load</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">2023-09-18</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">11</span><span style="color:#032F62;">:32:13</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">INFO</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">com.example.test.method</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">{&quot;text&quot;:&quot;33131&quot;}</span></span>
<span class="line"><span style="color:#6F42C1;">2023-09-18</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">11</span><span style="color:#032F62;">:32:34</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">INFO</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">com.example.test.method</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">{&quot;text&quot;:&quot;master load&quot;}</span></span>
<span class="line"><span style="color:#6F42C1;">2023-09-18</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">11</span><span style="color:#032F62;">:32:53</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">INFO</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">com.example.test.method</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">{&quot;text&quot;:&quot;lighers&quot;}</span></span>
<span class="line"><span style="color:#6F42C1;">------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#6A737D;"># 提取text为key的value，并按照value的长度排序打印</span></span>
<span class="line"><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-o</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;&quot;text&quot;:&quot;[^&quot;]*&quot;&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">t.log</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">awk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-F</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;:&quot;&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;{print $2}&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">awk</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-F</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;&quot;&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;{print $1}&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">awk</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;{print length,</span></span>
<span class="line"><span style="color:#032F62;"> $0}&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">sort</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-n</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-k</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#6F42C1;">5</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">33131</span></span>
<span class="line"><span style="color:#6F42C1;">7</span><span style="color:#24292E;"> </span><span style="color:#032F62;">lighers</span></span>
<span class="line"><span style="color:#6F42C1;">11</span><span style="color:#24292E;"> </span><span style="color:#032F62;">master</span><span style="color:#24292E;"> </span><span style="color:#032F62;">load</span></span></code></pre></div>`,26),e=[o];function t(c,r,y,E,i,F){return a(),n("div",null,e)}const h=s(p,[["render",t]]);export{C as __pageData,h as default};
